<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Predict Student Performance</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="fas fa-graduation-cap me-2"></i>
                Student Performance Predictor
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="/predictdata">Predict</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container my-5">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <!-- Header -->
                <div class="text-center mb-5">
                    <h1 class="display-5 fw-bold text-primary">
                        <i class="fas fa-magic me-3"></i>
                        Student Performance Prediction
                    </h1>
                    <p class="lead">Enter student information to predict their math score</p>
                </div>

                <!-- Prediction Result -->
                {% if results %}
                <div class="alert alert-success alert-dismissible fade show mb-4" role="alert">
                    <div class="d-flex align-items-center">
                        <i class="fas fa-trophy fa-2x me-3"></i>
                        <div>
                            <h4 class="alert-heading mb-1">Prediction Result</h4>
                            <p class="mb-0">
                                <strong>Predicted Math Score: {{ "%.2f"|format(results) }}/100</strong>
                            </p>
                            {% if results >= 80 %}
                                <small class="text-muted">üåü Excellent performance expected!</small>
                            {% elif results >= 70 %}
                                <small class="text-muted">üëç Good performance expected!</small>
                            {% elif results >= 60 %}
                                <small class="text-muted">‚ö†Ô∏è Average performance - consider additional support</small>
                            {% else %}
                                <small class="text-muted">üö® Below average performance - immediate intervention recommended</small>
                            {% endif %}
                        </div>
                    </div>
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>
                {% endif %}

                <!-- Error Message -->
                {% if error %}
                <div class="alert alert-danger alert-dismissible fade show mb-4" role="alert">
                    <div class="d-flex align-items-center">
                        <i class="fas fa-exclamation-triangle fa-2x me-3"></i>
                        <div>
                            <h4 class="alert-heading mb-1">Prediction Error</h4>
                            <p class="mb-0">{{ error }}</p>
                            <small class="text-muted">Please check your input and try again.</small>
                        </div>
                    </div>
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>
                {% endif %}

                <!-- Prediction Form -->
                <div class="card shadow-lg">
                    <div class="card-header bg-primary text-white">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-user-graduate me-2"></i>
                            Student Information
                        </h5>
                    </div>
                    <div class="card-body">
                        <form action="/predictdata" method="post" id="predictionForm">
                            <div class="row g-3">
                                <!-- Gender -->
                                <div class="col-md-6">
                                    <label for="gender" class="form-label">
                                        <i class="fas fa-venus-mars me-1"></i>
                                        Gender
                                    </label>
                                    <select class="form-select" name="gender" id="gender" required>
                                        <option value="">Select Gender</option>
                                        <option value="male">Male</option>
                                        <option value="female">Female</option>
                                    </select>
                                </div>

                                <!-- Race/Ethnicity -->
                                <div class="col-md-6">
                                    <label for="ethnicity" class="form-label">
                                        <i class="fas fa-users me-1"></i>
                                        Race/Ethnicity
                                    </label>
                                    <select class="form-select" name="ethnicity" id="ethnicity" required>
                                        <option value="">Select Race/Ethnicity</option>
                                        <option value="group A">Group A</option>
                                        <option value="group B">Group B</option>
                                        <option value="group C">Group C</option>
                                        <option value="group D">Group D</option>
                                        <option value="group E">Group E</option>
                                    </select>
                                </div>

                                <!-- Parental Education -->
                                <div class="col-12">
                                    <label for="parental_level_of_education" class="form-label">
                                        <i class="fas fa-graduation-cap me-1"></i>
                                        Parental Level of Education
                                    </label>
                                    <select class="form-select" name="parental_level_of_education" id="parental_level_of_education" required>
                                        <option value="">Select Education Level</option>
                                        <option value="some high school">Some High School</option>
                                        <option value="high school">High School</option>
                                        <option value="some college">Some College</option>
                                        <option value="associate's degree">Associate's Degree</option>
                                        <option value="bachelor's degree">Bachelor's Degree</option>
                                        <option value="master's degree">Master's Degree</option>
                                    </select>
                                </div>

                                <!-- Lunch -->
                                <div class="col-md-6">
                                    <label for="lunch" class="form-label">
                                        <i class="fas fa-utensils me-1"></i>
                                        Lunch Type
                                    </label>
                                    <select class="form-select" name="lunch" id="lunch" required>
                                        <option value="">Select Lunch Type</option>
                                        <option value="free/reduced">Free/Reduced</option>
                                        <option value="standard">Standard</option>
                                    </select>
                                </div>

                                <!-- Test Preparation -->
                                <div class="col-md-6">
                                    <label for="test_preparation_course" class="form-label">
                                        <i class="fas fa-book me-1"></i>
                                        Test Preparation Course
                                    </label>
                                    <select class="form-select" name="test_preparation_course" id="test_preparation_course" required>
                                        <option value="">Select Option</option>
                                        <option value="none">None</option>
                                        <option value="completed">Completed</option>
                                    </select>
                                </div>

                                <!-- Reading Score -->
                                <div class="col-md-6">
                                    <label for="reading_score" class="form-label">
                                        <i class="fas fa-book-open me-1"></i>
                                        Reading Score (0-100)
                                    </label>
                                    <input type="number" class="form-control" name="reading_score" id="reading_score" 
                                           min="0" max="100" step="1" required>
                                    <div class="form-text">Enter the student's reading score</div>
                                </div>

                                <!-- Writing Score -->
                                <div class="col-md-6">
                                    <label for="writing_score" class="form-label">
                                        <i class="fas fa-pen me-1"></i>
                                        Writing Score (0-100)
                                    </label>
                                    <input type="number" class="form-control" name="writing_score" id="writing_score" 
                                           min="0" max="100" step="1" required>
                                    <div class="form-text">Enter the student's writing score</div>
                                </div>
                            </div>

                            <!-- Submit Button -->
                            <div class="d-grid gap-2 mt-4">
                                <button type="submit" class="btn btn-primary btn-lg">
                                    <i class="fas fa-magic me-2"></i>
                                    Predict Math Score
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Information Card -->
                <div class="card mt-4">
                    <div class="card-body">
                        <h6 class="card-title">
                            <i class="fas fa-info-circle me-2"></i>
                            How it works
                        </h6>
                        <p class="card-text small">
                            Our machine learning model analyzes various factors including demographic information, 
                            parental education, socioeconomic indicators, and existing academic performance to 
                            predict math scores. This helps educators identify students who may need additional 
                            support or intervention.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-light py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5><i class="fas fa-graduation-cap me-2"></i>Student Performance Predictor</h5>
                    <p>Empowering educators with AI-driven insights for student success.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p>&copy; 2024 Student Performance Predictor. Built with Machine Learning.</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>